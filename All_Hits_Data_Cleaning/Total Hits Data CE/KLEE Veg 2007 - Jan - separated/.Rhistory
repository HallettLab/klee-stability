colnames(t_NMW) <- col.nmw
View(t_NMW)
#remove first row as it now only contains duplicate info
NMW_t <- t_NMW[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
NMW_t <- NMW_t[1:100,]
#need to clean the names
NMW_clean <- clean_names(NMW_t, sep_in = "_")
colnames(NMW_clean)
#flip to long format
NMW_long <- pivot_longer(NMW_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
NMW_long$Sp_Pin_Hits <- as.numeric(NMW_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
NMW_final <- NMW_long %>%
mutate(Treatment = "MW", Block = "N", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### NMWC March 2006 Data Cleaning #############################################
################################################################################
NMWC <- read.csv("2006March_NMWC_raw.csv", skip = 1)
View(NMWC)
#cut off extraneous rows to only get cover data
NMWC_cov <- NMWC[1:87,]
#transpose the data frame for easier manipulation
t_NMWC <- NMWC_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_NMWC) <- 1:nrow(t_NMWC) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colnmwc <- as.vector(t_NMWC[1,])
#make character
col.nmwc <- as.character(colnmwc)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.nmwc, sep = ".")
#set as colnames
colnames(t_NMWC) <- col.nmwc
View(t_NMWC)
#remove first row as it now only contains duplicate info
NMWC_t <- t_NMWC[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
NMWC_t <- NMWC_t[1:100,]
#need to clean the names
NMWC_clean <- clean_names(NMWC_t, sep_in = "_")
colnames(NMWC_clean)
#flip to long format
NMWC_long <- pivot_longer(NMWC_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
NMWC_long$Sp_Pin_Hits <- as.numeric(NMWC_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
NMWC_final <- NMWC_long %>%
mutate(Treatment = "MWC", Block = "N", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### NO March 2006 Data Cleaning ###############################################
################################################################################
NO <- read.csv("2006March_NO_raw.csv", skip = 1)
View(NO)
#cut off extraneous rows to only get cover data
NO_cov <- NO[1:87,]
#transpose the data frame for easier manipulation
t_NO <- NO_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_NO) <- 1:nrow(t_NO) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colno <- as.vector(t_NO[1,])
#make character
col.no <- as.character(colno)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.no, sep = ".")
#set as colnames
colnames(t_NO) <- col.no
View(t_NO)
#remove first row as it now only contains duplicate info
NO_t <- t_NO[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
NO_t <- NO_t[1:100,]
#need to clean the names
NO_clean <- clean_names(NO_t, sep_in = "_")
colnames(NO_clean)
#flip to long format
NO_long <- pivot_longer(NO_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
NO_long$Sp_Pin_Hits <- as.numeric(NO_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
NO_final <- NO_long %>%
mutate(Treatment = "O", Block = "N", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### NW March 2006 Data Cleaning ###############################################
################################################################################
NW <- read.csv("2006March_NW_raw.csv", skip = 1)
View(NW)
#cut off extraneous rows to only get cover data
NW_cov <- NW[1:87,]
#transpose the data frame for easier manipulation
t_NW <- NW_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_NW) <- 1:nrow(t_NW) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colnw <- as.vector(t_NW[1,])
#make character
col.nw <- as.character(colnw)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.nw, sep = ".")
#set as colnames
colnames(t_NW) <- col.nw
View(t_NW)
#remove first row as it now only contains duplicate info
NW_t <- t_NW[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
NW_t <- NW_t[1:100,]
#need to clean the names
NW_clean <- clean_names(NW_t, sep_in = "_")
colnames(NW_clean)
#flip to long format
NW_long <- pivot_longer(NW_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
NW_long$Sp_Pin_Hits <- as.numeric(NW_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
NW_final <- NW_long %>%
mutate(Treatment = "W", Block = "N", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### NWC March 2006 Data Cleaning ##############################################
################################################################################
NWC <- read.csv("2006March_NWC_raw.csv", skip = 1)
View(NWC)
#cut off extraneous rows to only get cover data
NWC_cov <- NWC[1:87,]
#transpose the data frame for easier manipulation
t_NWC <- NWC_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_NWC) <- 1:nrow(t_NWC) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colnwc <- as.vector(t_NWC[1,])
#make character
col.nwc <- as.character(colnwc)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.nwc, sep = ".")
#set as colnames
colnames(t_NWC) <- col.nwc
View(t_NWC)
#remove first row as it now only contains duplicate info
NWC_t <- t_NWC[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
NWC_t <- NWC_t[1:100,]
#need to clean the names
NWC_clean <- clean_names(NWC_t, sep_in = "_")
colnames(NWC_clean)
#flip to long format
NWC_long <- pivot_longer(NWC_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
NWC_long$Sp_Pin_Hits <- as.numeric(NWC_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
NWC_final <- NWC_long %>%
mutate(Treatment = "WC", Block = "N", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
#vertically join all final data sheets together using rbind
a <- rbind(NC_final, NMW_final)
b <- rbind(a, NMWC_final)
c <- rbind(b, NO_final)
d <- rbind(c, NW_final)
final <- rbind(d, NWC_final)
unique(final$Treatment)
unique(final$Block)
unique(final$Date)
str(final)
write.csv(final, "2006Mar_BlockN.csv", row.names = FALSE)
setwd("~/Research/KLEE/Total Hits Data CE/KLEE Veg 2006 - separated")
#load packages
library(tidyverse)
################################################################################
#### CC March 2006 Data Cleaning ###############################################
################################################################################
CC <- read.csv("2006March_CC_raw.csv", skip = 1)
################################################################################
#### CC March 2006 Data Cleaning ###############################################
################################################################################
CC <- read.csv("2006March_CC_raw.csv", skip = 1)
View(CC)
#cut off extraneous rows to only get cover data
CC_cov <- CC[1:87,]
#transpose the data frame for easier manipulation
t_CC <- CC_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_CC) <- 1:nrow(t_CC) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colcc <- as.vector(t_CC[1,])
#make character
col.cc <- as.character(colcc)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.cc, sep = ".")
#set as colnames
colnames(t_CC) <- col.cc
View(t_CC)
#remove first row as it now only contains duplicate info
CC_t <- t_CC[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
CC_t <- CC_t[1:100,]
View(CC_t)
#need to clean the names
CC_clean <- clean_names(CC_t, sep_in = "_")
colnames(CC_clean)
#flip to long format
CC_long <- pivot_longer(CC_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
CC_long$Sp_Pin_Hits <- as.numeric(CC_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
CC_final <- CC_long %>%
mutate(Treatment = "C", Block = "C", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### CMW March 2006 Data Cleaning ##############################################
################################################################################
CMW <- read.csv("2006March_CMW_raw.csv", skip = 1)
View(CMW)
#cut off extraneous rows to only get cover data
CMW_cov <- CMW[1:87,]
#transpose the data frame for easier manipulation
t_CMW <- CMW_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_CMW) <- 1:nrow(t_CMW) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colcmw <- as.vector(t_CMW[1,])
#make character
col.cmw <- as.character(colcmw)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.cmw, sep = ".")
#set as colnames
colnames(t_CMW) <- col.cmw
View(t_CMW)
#remove first row as it now only contains duplicate info
CMW_t <- t_CMW[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
CMW_t <- CMW_t[1:100,]
#need to clean the names
CMW_clean <- clean_names(CMW_t, sep_in = "_")
colnames(CMW_clean)
#flip to long format
CMW_long <- pivot_longer(CMW_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
CMW_long$Sp_Pin_Hits <- as.numeric(CMW_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
CMW_final <- CMW_long %>%
mutate(Treatment = "MW", Block = "C", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### CMWC March 2006 Data Cleaning #############################################
################################################################################
CMWC <- read.csv("2006March_CMWC_raw.csv", skip = 1)
View(CMWC)
#cut off extraneous rows to only get cover data
CMWC_cov <- CMWC[1:87,]
#transpose the data frame for easier manipulation
t_CMWC <- CMWC_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_CMWC) <- 1:nrow(t_CMWC) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colcmwc <- as.vector(t_CMWC[1,])
#make character
col.cmwc <- as.character(colcmwc)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.cmwc, sep = ".")
#set as colnames
colnames(t_CMWC) <- col.cmwc
View(t_CMWC)
#remove first row as it now only contains duplicate info
CMWC_t <- t_CMWC[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
CMWC_t <- CMWC_t[1:100,]
#need to clean the names
CMWC_clean <- clean_names(CMWC_t, sep_in = "_")
colnames(CMWC_clean)
#flip to long format
CMWC_long <- pivot_longer(CMWC_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
CMWC_long$Sp_Pin_Hits <- as.numeric(CMWC_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
CMWC_final <- CMWC_long %>%
mutate(Treatment = "MWC", Block = "C", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### CO March 2006 Data Cleaning ###############################################
################################################################################
CO <- read.csv("2006March_CO_raw.csv", skip = 1)
View(CO)
#cut off extraneous rows to only get cover data
CO_cov <- CO[1:87,]
#transpose the data frame for easier manipulation
t_CO <- CO_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_CO) <- 1:nrow(t_CO) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colco <- as.vector(t_CO[1,])
#make character
col.co <- as.character(colco)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.co, sep = ".")
#set as colnames
colnames(t_CO) <- col.co
View(t_CO)
#remove first row as it now only contains duplicate info
CO_t <- t_CO[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
CO_t <- CO_t[1:100,]
#need to clean the names
CO_clean <- clean_names(CO_t, sep_in = "_")
colnames(CO_clean)
#flip to long format
CO_long <- pivot_longer(CO_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
CO_long$Sp_Pin_Hits <- as.numeric(CO_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
CO_final <- CO_long %>%
mutate(Treatment = "O", Block = "C", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### CW March 2006 Data Cleaning ###############################################
################################################################################
CW <- read.csv("2006March_CW_raw.csv", skip = 1)
View(CW)
#cut off extraneous rows to only get cover data
CW_cov <- CW[1:87,]
#transpose the data frame for easier manipulation
t_CW <- CW_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_CW) <- 1:nrow(t_CW) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colcw <- as.vector(t_CW[1,])
#make character
col.cw <- as.character(colcw)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.cw, sep = ".")
#set as colnames
colnames(t_CW) <- col.cw
#remove first row as it now only contains duplicate info
CW_t <- t_CW[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
CW_t <- CW_t[1:100,]
#need to clean the names
CW_clean <- clean_names(CW_t, sep_in = "_")
#flip to long format
CW_long <- pivot_longer(CW_clean, cols = "bothriochloa.insculpta":"bares_2", names_to = "Species", values_to = "Sp_Pin_Hits")
CW_long$Sp_Pin_Hits <- as.numeric(CW_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
CW_final <- CW_long %>%
mutate(Treatment = "W", Block = "C", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
################################################################################
#### CWC March 2006 Data Cleaning ##############################################
################################################################################
CWC <- read.csv("2006March_CWC_raw.csv", skip = 1)
View(CWC)
#cut off extraneous rows to only get cover data
CWC_cov <- CWC[1:92,]
#transpose the data frame for easier manipulation
t_CWC <- CWC_cov %>%
t() %>%
as.data.frame() #save this as a dataframe
row.names(t_CWC) <- 1:nrow(t_CWC) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
colcwc <- as.vector(t_CWC[1,])
#make character
col.cwc <- as.character(colcwc)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.cwc, sep = ".")
#set as colnames
colnames(t_CWC) <- col.cwc
View(t_CWC)
#remove first row as it now only contains duplicate info
CWC_t <- t_CWC[-1,]
#subset again to only get useful data -> remove oddly formatted summary rows
CWC_t <- CWC_t[1:100,]
#need to clean the names
CWC_clean <- clean_names(CWC_t, sep_in = "_")
colnames(CWC_clean)
#flip to long format
CWC_long <- pivot_longer(CWC_clean, cols = "bothriochloa.insculpta":"ht.cm._13", names_to = "Species", values_to = "Sp_Pin_Hits")
CWC_long$Sp_Pin_Hits <- as.numeric(CWC_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
CWC_final <- CWC_long %>%
mutate(Treatment = "WC", Block = "C", Date = "20060301") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
#vertically join all final data sheets together using rbind
a <- rbind(CC_final, CMW_final)
b <- rbind(a, CMWC_final)
c <- rbind(b, CO_final)
d <- rbind(c, CW_final)
final <- rbind(d, CWC_final)
unique(final$Treatment)
unique(final$Block)
unique(final$Date)
str(final)
write.csv(final, "2006Mar_BlockC.csv", row.names = FALSE)
setwd("~/Research/KLEE/Total Hits Data CE/KLEE Veg 2006 - separated")
#load packages
library(tidyverse)
N <- read.csv("2006Mar_BlockN.csv")
S <- read.csv("2006Mar_BlockS.csv")
C <- read.csv("2006Mar_BlockC.csv")
temp <- rbind(N, S)
Mar2006 <- rbind(temp, C)
write.csv(Mar2006, "2006Mar_complete.csv", row.names = FALSE)
setwd("~/Research/KLEE/Total Hits Data CE/KLEE Veg 2007 - Jan - separated")
#load packages
library(tidyverse)
################################################################################
#### SC Jan 2007 Data Cleaning #################################################
################################################################################
SC <- read.csv("2007Jan_SC_raw.csv")
View(SC)
View(SC)
################################################################################
#### SC Jan 2007 Data Cleaning #################################################
################################################################################
SC <- read.csv("2007Jan_SC_raw.csv", skip = 4)
View(SC)
##need to fill rows to carry over trap station and type of hit data
?fill
################################################################################
#### SC Jan 2007 Data Cleaning #################################################
################################################################################
SC <- read.csv("2007Jan_SC_raw.csv", skip = 4)
View(SC)
head(SC)
##cut out rows 2&3 -> one is blank, the other is for disturbance but has no values
SC <- SC[-(2:3),]
View(SC)
################################################################################
#### SC Jan 2007 Data Cleaning #################################################
################################################################################
SC <- read.csv("2007Jan_SC_raw.csv", skip = 4)
##cut out rows 2&3 -> one is blank, the other is for disturbance but has no values
SC2 <- SC[-(2:3),]
View(SC)
View(SC2)
#transpose the data frame for easier manipulation
t_SC <- SC2 %>%
t() %>%
as.data.frame() #save this as a dataframe
View(t_SC)
row.names(t_SC) <- 1:nrow(t_SC) #get rid of weird rownames
#need to make the first row column names, but first need to make all names unique
#create vector from first row
col <- as.vector(t_SC[1,])
#make character
col.c <- as.character(col)
#make each value unique, there are a few columns with duplicate names
#(these are not species names, rather heights & will need to be removed later)
make.unique(col.c, sep = ".")
#set as colnames
colnames(t_SC) <- col.c
View(t_SC)
#remove first row as it now only contains duplicate info
SC_t <- t_SC[-1,]
View(SC_t)
#need to clean the names
SC_clean <- clean_names(SC_t, sep_in = "_")
View(SC_clean)
colnames(SC_clean)
?fill
##need to fill rows to carry over trap station and type of hit data
SC_fill <- SC_clean %>%
fill(type.of.hits)
View(SC_fill)
View(SC_fill)
##need to fill rows to carry over trap station and type of hit data
SC_fill <- SC_clean %>%
select(type.of.hits) %>%
fill(type.of.hits)
View(SC_fill)
##need to fill rows to carry over trap station and type of hit data
SC_fill <- SC_clean %>%
#select(type.of.hits) %>%
fill(type.of.hits, .direction = "down")
View(SC_fill)
SC_clean$type.of.hits
SC_clean_test <- SC_clean[SC_clean$type.of.hits == ""]<-NA
SC_clean_test
test <- SC_clean
test[test==""] <- NA
View(test)
test$type.of.hits[test$type.of.hits==""] <- NA
test <- SC_clean
test$type.of.hits[test$type.of.hits==""] <- NA
View(test)
rm(test)
rm(SC_clean_test)
SC_clean$type.of.hits[SC_clean$type.of.hits==""] <- NA #save blank values of SC_clean as NA in the type.of.hits column
View(SC_clean)
SC_fill <- SC_clean %>%
fill(type.of.hits, .direction = "down")
View(SC_fill)
head(SC_fill)
colnames(SC_fill)
#flip to long format
SC_long <- pivot_longer(SC_clean, cols = "bracharia.lacnantha":"lippia", names_to = "Species", values_to = "Sp_Pin_Hits")
View(SC_long)
SC_long$Sp_Pin_Hits <- as.numeric(SC_long$Sp_Pin_Hits) #make the # of pin hits numeric
#make block, date, treatment columns
SC_final <- SC_long %>%
mutate(Treatment = "C", Block = "S", Date = "20070131") #add columns for treatment, block, date (using the first of Feb as sample day is not specified)
View(SC_final)
